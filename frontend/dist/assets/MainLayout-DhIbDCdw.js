import{i as L,r as E,_ as w,u as M,f as A,e as o,c as V,o as r,d as n,a as l,j as u,t as v,w as t,g as C,E as $,k as B,b as p,F as D,l as I,m as y,n as k,p as N,q as U,T as z}from"./index-9K7cKVbJ.js";const x=L("ui",()=>({isAsideVisible:E(!0)})),R={class:"flex justify-between items-center px-3 h-full"},T={class:"flex items-center gap-8"},j={class:"text-lg font-medium hidden sm:inline"},F={class:"text-lg font-medium hidden sm:inline"},H=["src"],W={__name:"CommonHeader",setup(h){const s=M(),a=x(),f={superadmin:"超級管理員",admin:"管理員",user:"職員"},m=A(),_=()=>{m.push({name:"account"})},d=()=>{localStorage.removeItem("token"),s.clearUser(),m.push({name:"login"}),$.success("登出成功！")};return(b,e)=>{const c=o("el-button"),i=o("el-dropdown-item"),g=o("el-dropdown-menu"),S=o("el-dropdown");return r(),V("header",R,[n(c,{class:"sm:hidden",onClick:e[0]||(e[0]=J=>u(a).isAsideVisible=!u(a).isAsideVisible),icon:"Expand"}),e[5]||(e[5]=l("h3",{class:"text-xl"},"樂器行後台系統",-1)),l("div",T,[l("p",j,"歡迎回來，"+v(u(s).name)+" !",1),e[3]||(e[3]=l("span",{class:"hidden sm:inline"},"|",-1)),l("p",F,"身份："+v(f[u(s).role]),1),e[4]||(e[4]=l("span",{class:"hidden sm:inline"},"|",-1)),n(S,null,{dropdown:t(()=>[n(g,null,{default:t(()=>[n(i,{onClick:_},{default:t(()=>e[1]||(e[1]=[C("帳戶資訊")])),_:1}),n(i,{onClick:d},{default:t(()=>e[2]||(e[2]=[C("登出")])),_:1})]),_:1})]),default:t(()=>[l("img",{src:`/images/avatars/${u(s).avatar}`,class:"user-img",title:"帳戶選單"},null,8,H)]),_:1})])])}}},q=w(W,[["__scopeId","data-v-6582abfe"]]),K={__name:"CommonAside",setup(h){const s=[{path:"/home",name:"home",label:"首頁",icon:"house"},{path:"/revenue",name:"revenue",label:"每日營收",icon:"Money"},{path:"/product",name:"product",label:"商品庫存",icon:"goods"},{path:"/order",name:"order",label:"網路訂單",icon:"Document"},{path:"/member",name:"member",label:"會員管理",icon:"user"},{path:"/finance",name:"finance",label:"營收分析",icon:"DataLine",isAdmin:!0},{path:"/user",name:"user",label:"權限管理",icon:"user",isAdmin:!0}],a=A(),f=B(()=>a.currentRoute.value.path),m=x(),_=d=>{a.push(d),window.innerWidth<768&&(m.isAsideVisible=!1)};return(d,b)=>{const e=o("el-menu-item"),c=o("el-menu");return r(),p(c,{"default-active":f.value,router:""},{default:t(()=>[(r(),V(D,null,I(s,i=>n(e,{index:i.path,key:i.path,onClick:g=>_(i.path)},{default:t(()=>[(r(),p(k(i.icon),{class:"icon"})),l("span",null,v(i.label),1),i.isAdmin?(r(),p(k("Key"),{key:0,class:"admin-icon"})):y("",!0)]),_:2},1032,["index","onClick"])),64))]),_:1},8,["default-active"])}}},P=w(K,[["__scopeId","data-v-3bbce704"]]),G={__name:"MainLayout",setup(h){const s=x(),a=()=>{window.innerWidth>=768&&(s.isAsideVisible=!0)};return N(()=>{window.addEventListener("resize",a),a()}),U(()=>{window.removeEventListener("resize",a)}),(f,m)=>{const _=o("el-header"),d=o("el-aside"),b=o("router-view"),e=o("el-main"),c=o("el-container");return r(),p(c,{class:"h-full"},{default:t(()=>[n(_,null,{default:t(()=>[n(q)]),_:1}),n(c,null,{default:t(()=>[n(z,{name:"slide-aside"},{default:t(()=>[u(s).isAsideVisible?(r(),p(d,{key:0,width:"200px"},{default:t(()=>[n(P)]),_:1})):y("",!0)]),_:1}),n(e,null,{default:t(()=>[n(b)]),_:1})]),_:1})]),_:1})}}},Q=w(G,[["__scopeId","data-v-abe3c9f9"]]);export{Q as default};
