import{_ as A,a as Y,b as B,c as E,d as M}from"./avatar5-BTZsk4sU.js";import{_ as N,u as h,z as D,r as F,c,d as a,w as o,e as s,F as g,o as f,a as u,g as I,l as L,h as P,E as b}from"./index-B1TA_ZFm.js";const S=["src"],z={class:"flex justify-end"},O={class:"flex justify-between"},T=["src","onClick"],q={__name:"Account",setup(G){const V=Object.assign({"../assets/images/avatars/avatar1.jpg":M,"../assets/images/avatars/avatar2.jpg":E,"../assets/images/avatars/avatar3.jpg":B,"../assets/images/avatars/avatar4.jpg":Y,"../assets/images/avatars/avatar5.jpg":A}),p=n=>V[`../assets/images/avatars/${n}`],r=h(),t=D({role:r.role,name:r.name,gender:r.gender,birth:r.birth,email:r.email,avatar:r.avatar}),j=async()=>{try{await P.updateProfile(t),r.setUser({...r,...t}),b.success("更新成功")}catch{b.error("更新失敗")}},v={superadmin:"超級管理員",admin:"管理員",user:"職員"},_=F(!1),k=n=>{t.avatar=n,_.value=!1};return(n,e)=>{const m=s("el-input"),d=s("el-form-item"),i=s("el-radio"),y=s("el-radio-group"),U=s("el-date-picker"),w=s("el-form"),x=s("el-button"),C=s("el-card"),$=s("el-dialog");return f(),c(g,null,[a(C,null,{default:o(()=>[e[8]||(e[8]=u("h3",null,"帳戶資訊",-1)),u("img",{src:p(t.avatar),onClick:e[0]||(e[0]=l=>_.value=!0),class:"avatar-preview"},null,8,S),a(w,null,{default:o(()=>[a(d,{label:"身份"},{default:o(()=>[a(m,{modelValue:v[t.role],"onUpdate:modelValue":e[1]||(e[1]=l=>v[t.role]=l),disabled:""},null,8,["modelValue"])]),_:1}),a(d,{label:"姓名"},{default:o(()=>[a(m,{modelValue:t.name,"onUpdate:modelValue":e[2]||(e[2]=l=>t.name=l)},null,8,["modelValue"])]),_:1}),a(d,{label:"性別"},{default:o(()=>[a(y,{modelValue:t.gender,"onUpdate:modelValue":e[3]||(e[3]=l=>t.gender=l),placeholder:"請選擇性別"},{default:o(()=>[a(i,{label:"男",value:"male"}),a(i,{label:"女",value:"female"}),a(i,{label:"其他",value:"others"})]),_:1},8,["modelValue"])]),_:1}),a(d,{label:"生日"},{default:o(()=>[a(U,{modelValue:t.birth,"onUpdate:modelValue":e[4]||(e[4]=l=>t.birth=l),"value-format":"YYYY-MM-DD",style:{width:"100%"},placeholder:"請選擇日期"},null,8,["modelValue"])]),_:1}),a(d,{label:"信箱"},{default:o(()=>[a(m,{modelValue:t.email,"onUpdate:modelValue":e[5]||(e[5]=l=>t.email=l),type:"email"},null,8,["modelValue"])]),_:1})]),_:1}),u("footer",z,[a(x,{onClick:j,type:"primary"},{default:o(()=>e[7]||(e[7]=[I("更新")])),_:1})])]),_:1}),a($,{modelValue:_.value,"onUpdate:modelValue":e[6]||(e[6]=l=>_.value=l),title:"選擇頭貼",width:"800"},{default:o(()=>[u("div",O,[(f(),c(g,null,L(5,l=>u("img",{key:l,src:p(`avatar${l}.jpg`),onClick:H=>k(`avatar${l}.jpg`)},null,8,T)),64))])]),_:1},8,["modelValue"])],64)}}},Q=N(q,[["__scopeId","data-v-39ed67a5"]]);export{Q as default};
