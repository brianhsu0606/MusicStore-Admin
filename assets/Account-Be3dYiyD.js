import{_ as x,k as S,z as $,u as B,r as D,c as g,d as a,w as s,e as o,F as f,o as b,a as u,g as Y,l as E,h as I,E as V}from"./index-CoTyiwZg.js";const N="/MusicStore-Admin/assets/avatar1-COrlfqVH.jpg",h="/MusicStore-Admin/assets/avatar2-CvT9lKeo.jpg",z="/MusicStore-Admin/assets/avatar3-C8mU3rIz.jpg",F="/MusicStore-Admin/assets/avatar4-BAoDpl6r.jpg",L="/MusicStore-Admin/assets/avatar5-pceyDJ2i.jpg",O=["src"],P={class:"flex justify-end"},T={class:"flex justify-between"},q=["src","onClick"],H={__name:"Account",setup(J){const p=Object.assign({"../assets/images/avatars/avatar1.jpg":N,"../assets/images/avatars/avatar2.jpg":h,"../assets/images/avatars/avatar3.jpg":z,"../assets/images/avatars/avatar4.jpg":F,"../assets/images/avatars/avatar5.jpg":L}),c=n=>p[`../assets/images/avatars/${n}`];S(()=>p[`/src/assets/images/avatars/${l.avatar}`]);const r=B(),l=$({role:r.role,name:r.name,gender:r.gender,birth:r.birth,email:r.email,avatar:r.avatar}),j=async()=>{try{await I.updateProfile(l),r.setUser({...r,...l}),V.success("更新成功")}catch{V.error("更新失敗")}},v={superadmin:"超級管理員",admin:"管理員",user:"職員"},i=D(!1),k=n=>{l.avatar=n,i.value=!1};return(n,e)=>{const m=o("el-input"),d=o("el-form-item"),_=o("el-radio"),y=o("el-radio-group"),A=o("el-date-picker"),U=o("el-form"),C=o("el-button"),M=o("el-card"),w=o("el-dialog");return b(),g(f,null,[a(M,null,{default:s(()=>[e[8]||(e[8]=u("h3",null,"帳戶資訊",-1)),u("img",{src:c(l.avatar),onClick:e[0]||(e[0]=t=>i.value=!0),class:"avatar-preview"},null,8,O),a(U,null,{default:s(()=>[a(d,{label:"身份"},{default:s(()=>[a(m,{modelValue:v[l.role],"onUpdate:modelValue":e[1]||(e[1]=t=>v[l.role]=t),disabled:""},null,8,["modelValue"])]),_:1}),a(d,{label:"姓名"},{default:s(()=>[a(m,{modelValue:l.name,"onUpdate:modelValue":e[2]||(e[2]=t=>l.name=t)},null,8,["modelValue"])]),_:1}),a(d,{label:"性別"},{default:s(()=>[a(y,{modelValue:l.gender,"onUpdate:modelValue":e[3]||(e[3]=t=>l.gender=t),placeholder:"請選擇性別"},{default:s(()=>[a(_,{label:"男",value:"male"}),a(_,{label:"女",value:"female"}),a(_,{label:"其他",value:"others"})]),_:1},8,["modelValue"])]),_:1}),a(d,{label:"生日"},{default:s(()=>[a(A,{modelValue:l.birth,"onUpdate:modelValue":e[4]||(e[4]=t=>l.birth=t),"value-format":"YYYY-MM-DD",style:{width:"100%"},placeholder:"請選擇日期"},null,8,["modelValue"])]),_:1}),a(d,{label:"信箱"},{default:s(()=>[a(m,{modelValue:l.email,"onUpdate:modelValue":e[5]||(e[5]=t=>l.email=t),type:"email"},null,8,["modelValue"])]),_:1})]),_:1}),u("footer",P,[a(C,{onClick:j,type:"primary"},{default:s(()=>e[7]||(e[7]=[Y("更新")])),_:1})])]),_:1}),a(w,{modelValue:i.value,"onUpdate:modelValue":e[6]||(e[6]=t=>i.value=t),title:"選擇頭貼",width:"800"},{default:s(()=>[u("div",T,[(b(),g(f,null,E(5,t=>u("img",{key:t,src:c(`avatar${t}.jpg`),onClick:K=>k(`avatar${t}.jpg`)},null,8,q)),64))])]),_:1},8,["modelValue"])],64)}}},Q=x(H,[["__scopeId","data-v-72352cfa"]]);export{Q as default};
