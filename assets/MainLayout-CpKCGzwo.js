import{i as E,r as I,_ as g,u as M,f as V,e as t,c as y,o as d,d as s,a as o,j as _,t as b,w as n,g as C,E as $,k as B,b as v,F as D,l as N,m as S,n as k,p as U,q as z,T as R}from"./index-BW3yvak1.js";import{_ as T,a as F,b as H,c as P,d as W}from"./avatar5-pCnginZD.js";const w=E("ui",()=>({isAsideVisible:I(!0)})),q={class:"flex justify-between items-center px-3 h-full"},K={class:"flex items-center gap-8"},O={class:"text-lg font-medium hidden sm:inline"},G={class:"text-lg font-medium hidden sm:inline"},J=["src"],Q={__name:"CommonHeader",setup(h){const i=Object.assign({"../assets/images/avatars/avatar1.jpg":W,"../assets/images/avatars/avatar2.jpg":P,"../assets/images/avatars/avatar3.jpg":H,"../assets/images/avatars/avatar4.jpg":F,"../assets/images/avatars/avatar5.jpg":T}),a=c=>i[`../assets/images/avatars/${c}`],l=M(),u=w(),m={superadmin:"超級管理員",admin:"管理員",user:"職員"},r=V(),f=()=>{r.push({name:"account"})},p=()=>{localStorage.removeItem("token"),l.clearUser(),r.push({name:"login"}),$.success("登出成功！")};return(c,e)=>{const x=t("el-button"),A=t("el-dropdown-item"),j=t("el-dropdown-menu"),L=t("el-dropdown");return d(),y("header",q,[s(x,{class:"sm:hidden",onClick:e[0]||(e[0]=se=>_(u).isAsideVisible=!_(u).isAsideVisible),icon:"Expand"}),e[5]||(e[5]=o("h3",{class:"text-xl"},"樂器行後台系統",-1)),o("div",K,[o("p",O,"歡迎回來，"+b(_(l).name)+" !",1),e[3]||(e[3]=o("span",{class:"hidden sm:inline"},"|",-1)),o("p",G,"身份："+b(m[_(l).role]),1),e[4]||(e[4]=o("span",{class:"hidden sm:inline"},"|",-1)),s(L,null,{dropdown:n(()=>[s(j,null,{default:n(()=>[s(A,{onClick:f},{default:n(()=>e[1]||(e[1]=[C("帳戶資訊")])),_:1,__:[1]}),s(A,{onClick:p},{default:n(()=>e[2]||(e[2]=[C("登出")])),_:1,__:[2]})]),_:1})]),default:n(()=>[o("img",{src:a(_(l).avatar),class:"user-img",title:"帳戶選單"},null,8,J)]),_:1})])])}}},X=g(Q,[["__scopeId","data-v-7d26f559"]]),Y={__name:"CommonAside",setup(h){const i=[{path:"/home",name:"home",label:"首頁",icon:"house"},{path:"/revenue",name:"revenue",label:"每日營收",icon:"Money"},{path:"/product",name:"product",label:"商品庫存",icon:"goods"},{path:"/order",name:"order",label:"網路訂單",icon:"Document"},{path:"/member",name:"member",label:"會員管理",icon:"user"},{path:"/finance",name:"finance",label:"營收分析",icon:"DataLine",isAdmin:!0},{path:"/user",name:"user",label:"權限管理",icon:"user",isAdmin:!0}],a=V(),l=B(()=>a.currentRoute.value.path),u=w(),m=r=>{a.push(r),window.innerWidth<768&&(u.isAsideVisible=!1)};return(r,f)=>{const p=t("el-menu-item"),c=t("el-menu");return d(),v(c,{"default-active":l.value,router:""},{default:n(()=>[(d(),y(D,null,N(i,e=>s(p,{index:e.path,key:e.path,onClick:x=>m(e.path)},{default:n(()=>[(d(),v(k(e.icon),{class:"icon"})),o("span",null,b(e.label),1),e.isAdmin?(d(),v(k("Key"),{key:0,class:"admin-icon"})):S("",!0)]),_:2},1032,["index","onClick"])),64))]),_:1},8,["default-active"])}}},Z=g(Y,[["__scopeId","data-v-3bbce704"]]),ee={__name:"MainLayout",setup(h){const i=w(),a=()=>{window.innerWidth>=768?i.isAsideVisible=!0:i.isAsideVisible=!1};return U(()=>{window.addEventListener("resize",a),a()}),z(()=>{window.removeEventListener("resize",a)}),(l,u)=>{const m=t("el-header"),r=t("el-aside"),f=t("router-view"),p=t("el-main"),c=t("el-container");return d(),v(c,{class:"h-full"},{default:n(()=>[s(m,null,{default:n(()=>[s(X)]),_:1}),s(c,null,{default:n(()=>[s(R,{name:"slide-aside"},{default:n(()=>[_(i).isAsideVisible?(d(),v(r,{key:0,width:"200px"},{default:n(()=>[s(Z)]),_:1})):S("",!0)]),_:1}),s(p,null,{default:n(()=>[s(f)]),_:1})]),_:1})]),_:1})}}},ae=g(ee,[["__scopeId","data-v-ccb6357a"]]);export{ae as default};
