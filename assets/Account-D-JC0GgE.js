import{_ as $,u as j,z as Y,r as A,c,d as l,w as o,e as n,F as f,o as v,a as d,g as B,l as E,h as M,E as V}from"./index-dfya9NE1.js";const N=["src"],D={class:"flex justify-end"},F={class:"flex justify-between"},L=["src","onClick"],S={__name:"Account",setup(h){const r=j(),t=Y({role:r.role,name:r.name,gender:r.gender,birth:r.birth,email:r.email,avatar:r.avatar}),b=async()=>{try{await M.updateProfile(t),r.setUser({...r,...t}),V.success("更新成功")}catch{V.error("更新失敗")}},p={superadmin:"超級管理員",admin:"管理員",user:"職員"},u=A(!1),g=m=>{t.avatar=m,u.value=!1};return(m,e)=>{const i=n("el-input"),s=n("el-form-item"),_=n("el-radio"),k=n("el-radio-group"),y=n("el-date-picker"),U=n("el-form"),w=n("el-button"),x=n("el-card"),C=n("el-dialog");return v(),c(f,null,[l(x,null,{default:o(()=>[e[8]||(e[8]=d("h3",null,"帳戶資訊",-1)),d("img",{src:`/images/avatars/${t.avatar}`,onClick:e[0]||(e[0]=a=>u.value=!0),class:"avatar-preview"},null,8,N),l(U,null,{default:o(()=>[l(s,{label:"身份"},{default:o(()=>[l(i,{modelValue:p[t.role],"onUpdate:modelValue":e[1]||(e[1]=a=>p[t.role]=a),disabled:""},null,8,["modelValue"])]),_:1}),l(s,{label:"姓名"},{default:o(()=>[l(i,{modelValue:t.name,"onUpdate:modelValue":e[2]||(e[2]=a=>t.name=a)},null,8,["modelValue"])]),_:1}),l(s,{label:"性別"},{default:o(()=>[l(k,{modelValue:t.gender,"onUpdate:modelValue":e[3]||(e[3]=a=>t.gender=a),placeholder:"請選擇性別"},{default:o(()=>[l(_,{label:"男",value:"male"}),l(_,{label:"女",value:"female"}),l(_,{label:"其他",value:"others"})]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"生日"},{default:o(()=>[l(y,{modelValue:t.birth,"onUpdate:modelValue":e[4]||(e[4]=a=>t.birth=a),"value-format":"YYYY-MM-DD",style:{width:"100%"},placeholder:"請選擇日期"},null,8,["modelValue"])]),_:1}),l(s,{label:"信箱"},{default:o(()=>[l(i,{modelValue:t.email,"onUpdate:modelValue":e[5]||(e[5]=a=>t.email=a),type:"email"},null,8,["modelValue"])]),_:1})]),_:1}),d("footer",D,[l(w,{onClick:b,type:"primary"},{default:o(()=>e[7]||(e[7]=[B("更新")])),_:1})])]),_:1}),l(C,{modelValue:u.value,"onUpdate:modelValue":e[6]||(e[6]=a=>u.value=a),title:"選擇頭貼",width:"800"},{default:o(()=>[d("div",F,[(v(),c(f,null,E(5,a=>d("img",{key:a,src:`/images/avatars/avatar${a}.jpg`,onClick:z=>g(`avatar${a}.jpg`)},null,8,L)),64))])]),_:1},8,["modelValue"])],64)}}},P=$(S,[["__scopeId","data-v-9fc1bb4d"]]);export{P as default};
